;/*FB_PKG_DELIM*/

__d("CometEmojiPickerContainer.react",["CometEmojiPicker.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={wrap:{paddingTop:"x1iorvi4",width:"x5c4s84",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.height,f=a.includeRecentlyUsedEmojis,g=a.onSelect,h=a.selectedEmoji;a=a.topSection;f=f===void 0?!1:f;e=e!=null?e:260;var k;b[0]!==h?(k=h!=null?[h]:void 0,b[0]=h,b[1]=k):k=b[1];b[2]!==f||b[3]!==g||b[4]!==e||b[5]!==k||b[6]!==a?(h=i.jsx(d("react-strict-dom").html.div,{style:j.wrap,children:i.jsx(c("CometEmojiPicker.react"),{height:e,includeRecentlyUsedEmojis:f,onSelect:g,selectedEmojis:k,topSection:a})}),b[2]=f,b[3]=g,b[4]=e,b[5]=k,b[6]=a,b[7]=h):h=b[7];return h}g["default"]=a}),98);
__d("cometAddEmojiToComposerForLexical",["CometLexicalEmojiNode","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function a(a,b,e,f){f===void 0&&(f=!0);function g(){b.update(function(){if(typeof a==="string"){var b=d("Lexical").$createTextNode(a);d("Lexical").$insertNodes([b]);return}b=h(a);var f=a.map(function(a){return String.fromCodePoint(a)});f=c("FBEmojiResource").fromCodepoints(f);if(f==null)return;f=f.getImageURL(e);if(f==null)return;var g=b;b=d("CometLexicalEmojiNode").$createEmojiNode(b,g,f,e);d("Lexical").$insertNodes([b])})}f?b.focus(function(){g()}):g()}g["default"]=a}),98);
__d("CometUFIEmojiPickerPopoverForLexical.react",["CometEmojiPickerContainer.react","CometLexicalEmojiNode","CometPopover_DEPRECATED.react","CometUFIComposerPluginsContext","cometAddEmojiToComposerForLexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useContext;function a(a){var b=d("react-compiler-runtime").c(6),e=a.onClose;a=a.pluginProps;var f=j(c("CometUFIComposerPluginsContext")),g=f.isComposerFocused,h=a.editor;b[0]!==h||b[1]!==g||b[2]!==e?(f=function(a){g||e(),h!=null&&c("cometAddEmojiToComposerForLexical")(a,h,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE)},b[0]=h,b[1]=g,b[2]=e,b[3]=f):f=b[3];a=f;b[4]!==a?(f=i.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":"Emoji picker popover",withArrow:!0,children:i.jsx(c("CometEmojiPickerContainer.react"),{height:320,includeRecentlyUsedEmojis:!0,onSelect:a})}),b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("addEmojiToEditorState",["DraftModifier","EditorState","FBEmojiUtils","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e===void 0&&(e=c("emptyFunction"));a=typeof a!=="string"?d("FBEmojiUtils").codepointsToString(a):a;a=d("DraftModifier").replaceText(b.getCurrentContent(),b.getSelection(),a);a=c("EditorState").push(b,a,"insert-characters");a!==b&&e(a);return a}g["default"]=a}),98);
__d("composerEmojiReducers",["EmojiFormat.bs","addEmojiToEditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"INSERT_EMOJI":b=d("EmojiFormat.bs").codeArrayToUnicode(b.codePoint);var e=a.editorState;if(e==null)return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},e||{hasFocus:!1,isComposing:!1,isPendingSelection:!1,selectionOffsets:null},{__type:"plain-text",text:b})});else if(e.__type==="plain-text"){var f=e.text;return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},e,f!==null?{text:e.text+b}:{ranges:[],text:b})})}else{f=e.draftEditorState;return babelHelpers["extends"]({},a,{editorState:babelHelpers["extends"]({},e,{draftEditorState:c("addEmojiToEditorState")(b,f)})})}}return a}g["default"]=a}),98);
__d("useEmojiSize",["LexicalText","getEmojiSize","react","react-compiler-runtime","useCometStatusAreaTextData"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(17),e=a.activeAttachmentType,f=a.emojiSizeOverride,g=a.formattedTextPreset,h=a.formattingType,k=a.lexicalEditor,l=(a=c("useCometStatusAreaTextData")(g))==null?void 0:a.formattedTextStyling;if(b[0]!==e||b[1]!==f||b[2]!==l||b[3]!==h||b[4]!==k){a=c("getEmojiSize")({activeAttachmentType:e,emojiSizeOverride:f,formattedTextStyling:l,formattingType:h,textLength:(g=k==null?void 0:k.getEditorState().read(d("LexicalText").$rootTextContent).length)!=null?g:0});b[0]=e;b[1]=f;b[2]=l;b[3]=h;b[4]=k;b[5]=a}else a=b[5];g=j(a);a=g[0];var m=g[1];b[6]!==e||b[7]!==f||b[8]!==l||b[9]!==h||b[10]!==k?(g=function(){if(k==null)return;return k.registerTextContentListener(function(a){a=c("getEmojiSize")({activeAttachmentType:e,emojiSizeOverride:f,formattedTextStyling:l,formattingType:h,textLength:a.length});m(a)})},b[6]=e,b[7]=f,b[8]=l,b[9]=h,b[10]=k,b[11]=g):g=b[11];var n;b[12]!==e||b[13]!==l||b[14]!==h||b[15]!==k?(n=[e,l,h,k,m],b[12]=e,b[13]=l,b[14]=h,b[15]=k,b[16]=n):n=b[16];i(g,n);return a}g["default"]=a}),98);
__d("ComposerEmojiPopover.react",["fbt","CometEmojiPickerContainer.react","CometPopover_DEPRECATED.react","cometAddEmojiToComposerForLexical","composerEmojiReducers","react","react-compiler-runtime","useComposerViewStateDispatcher","useComposerViewStateReducer","useEmojiSize","withComposerViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(18),e=a.activeAttachmentType,f=a.emojiSizeOverride,g=a.formattedTextPreset,i=a.formattingType,l=a.lexicalEditor,m=a.setClicked,n=a.setHovered;c("useComposerViewStateReducer")(c("composerEmojiReducers"));var o=c("useComposerViewStateDispatcher")();b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==l?(a={activeAttachmentType:e,emojiSizeOverride:f,formattedTextPreset:g,formattingType:i,lexicalEditor:l},b[0]=e,b[1]=f,b[2]=g,b[3]=i,b[4]=l,b[5]=a):a=b[5];var p=c("useEmojiSize")(a);b[6]!==m||b[7]!==n?(e=function(){return function(){return m(!1)||n(!1)}},f=[m,n],b[6]=m,b[7]=n,b[8]=e,b[9]=f):(e=b[8],f=b[9]);k(e,f);b[10]!==p||b[11]!==l?(g=function(a){l!=null&&c("cometAddEmojiToComposerForLexical")(a,l,p)},b[10]=p,b[11]=l,b[12]=g):g=b[12];i=g;b[13]!==o?(a=function(a){o({codePoint:a,type:"INSERT_EMOJI"})},b[13]=o,b[14]=a):a=b[14];e=a;f=l!=null?i:e;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Emoji picker to add emojis to your post"),b[15]=g):g=b[15];b[16]!==f?(a=j.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":g,withArrow:!0,children:j.jsx(c("CometEmojiPickerContainer.react"),{includeRecentlyUsedEmojis:!0,onSelect:f})}),b[16]=f,b[17]=a):a=b[17];return a}e=c("withComposerViewStatePart")(a,function(a){var b;return{activeAttachmentType:(b=a.attachmentArea)==null?void 0:b.activeAttachmentType,emojiSizeOverride:a.emojiSizeOverride,formattedTextPreset:(b=a.formattedText)==null?void 0:b.currentFormattedTextPreset,formattingType:a.formattingType,lexicalEditor:a.lexicalEditor}});g["default"]=e}),226);